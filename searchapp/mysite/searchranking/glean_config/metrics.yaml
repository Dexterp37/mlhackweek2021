# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# This file defines the metrics that are recorded by the Glean SDK.
# APIs to use these pings are automatically generated at build time using
# the `glean_parser` PyPI package.

# Metrics in this file may make use of SDK reserved ping names. See
# https://mozilla.github.io/glean/book/dev/core/internal/reserved-ping-names.html
# for additional information.

---
# Schema
$schema: moz://mozilla.org/schemas/glean/metrics/2-0-0

# Category
search:
  search_engine:
    type: string
    send_in_pings:
      - custom
    description: |
      Submitted search term
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  search_text:
    type: string
    send_in_pings:
      - custom
    description: |
      Submitted search term
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  session_id:
    type: string
    send_in_pings:
      - custom
    description: |
      Session id
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  url:
    type: string
    send_in_pings:
      - custom
    description: |
      Selected search result
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  url_select_timestamp:
    type: datetime
    send_in_pings:
      - custom
    description: |
      Timestamp when user selected result
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never

  hostname:
    type: string
    send_in_pings:
      - custom
    description: |
      Hostname (domain) of selected search result
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  title:
    type: string
    send_in_pings:
      - custom
    description: |
      Search result title
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  short_description:
    type: string
    send_in_pings:
      - custom
    description: |
      Initial text of search result
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  preamble:
    type: string
    send_in_pings:
      - custom
    description: |
      Leading text of result (e.g. 'x days ago', '1 of 20')
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  selected:
    type: boolean
    send_in_pings:
      - custom
    description: |
      Indicates whether the URL was selected by user
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
  position:
    type: quantity
    send_in_pings:
      - custom
    description: |
      Position in list of selected link
    notification_emails:
      - gleonard@mozilla.com
    bugs:
      - https://example/123456789/
    data_reviews:
      - http://example.com/path/to/data-review
    expires: never
    unit: position in list
